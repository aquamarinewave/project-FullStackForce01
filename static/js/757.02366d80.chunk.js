"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[757],{3439:function(n,e,t){t(2791);e.Z=t.p+"static/media/icons.29896e80873140f97ab240538dc1b43d.svg"},5757:function(n,e,t){t.r(e),t.d(e,{default:function(){return Un}});var r,o,i,a,c,s,l=t(4165),d=t(5861),h=t(9439),u=t(2791),p=t(1413),x=t(168),f=t(6444),g=f.ZP.div(r||(r=(0,x.Z)(["\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(97, 97, 97, 0.60);\n  backdrop-filter: blur(4px); \n  position: fixed;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 9999;\n"]))),m=f.ZP.div(o||(o=(0,x.Z)(["\n  width: 681px;\n  height: 540px;\n  background: #fff;\n  color: #000;\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  position: relative;\n  border-radius: 40px;\n"]))),b=f.ZP.div(i||(i=(0,x.Z)(["\n  padding: 32px;\n  width: 681px;\n\n  .modal-header {\n    color: #000;\n    font-size: 28px;\n    font-style: normal;\n    font-weight: 700;\n    line-height: normal;\n    letter-spacing: -0.28px; \n    margin-bottom: 20px; \n  }\n\n  .modal-info {\n    display: flex;\n    gap: 24px;\n    margin-bottom: 28px; \n  }\n\n  .modal-info-list {\n    display: flex;\n    gap: 51px;\n  }\n\n  .modal-info-item {\n    display: flex;\n    flex-direction: column;\n    gap: 8px;\n  }\n\n  .modal-info-item--name {\n    font-weight: 600; \n  }\n\n  .modal-contact {\n    color: var(--accent-color);\n    font-weight: 500;\n    \n    a {\n      border-bottom: 1px solid var(--accent-color); \n    }\n  } \n  \n  .modal-img {\n    position: relative;\n    width: 262px;\n    height: 298px;\n  }\n\n  .modal-avatar {\n    width: 262px;\n    height: 298px;\n    border-radius: 0px 0px 40px 40px;\n  }\n\n  .modal-category {\n    position: absolute;\n    top: 16px;\n    left: 0;\n    width: 126px;\n    height: 32px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background-color: var(--lightblue);\n    color: #111;\n    font-size: 14px;\n    font-style: normal;\n    font-weight: 500;\n    line-height: normal;\n    border-bottom-right-radius: 50px;\n    border-top-right-radius: 50px;  \n  }\n\n  .modal-comments {\n    color: var(--main-color);\n    font-weight: 500;\n    line-height: 24px;\n    letter-spacing: 0.64px;\n    margin-bottom: 70px  \n  }\n\n  .modal-buttons {\n    display: flex;\n    flex-direction: row-reverse;\n    gap: 17px;\n  }\n  \n  .modal-button {\n    display: flex;\n    gap: 6px;\n    width: 129px;\n    padding: 8px 20px;\n    justify-content: center;\n    align-items: center;\n    background: transparent;\n    border-radius: 40px; \n    font-size: 16px;\n    font-family: inherit;\n    font-weight: 700;  \n    line-height: normal;\n    letter-spacing: 0.64px;\n    \n  }\n\n  .modal-button--primary {\n    border: 2px solid var(--dark-blue);\n    color: var(--dark-blue);\n  }\n\n  .modal-button--primary:hover {\n    background: var(--dark-blue, linear-gradient(315deg, #419EF1 0%, #9BD0FF 100%)); \n    color: #fff;\n  }\n\n  .modal-button--second {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background: var(--dark-blue);\n    border: none;\n    color: #fff;\n\n    &.selected {\n      background: var(--lightblue);\n      color: var(--dark-blue);\n  \n      svg {\n        stroke: var(--dark-blue);\n        fill: var(--dark-blue);\n      }\n    }\n  }\n\n  }\n\n  span {\n    display: flex;\n  }\n\n"]))),v=f.ZP.button(a||(a=(0,x.Z)(["\n  border: transparent;\n  background: transparent;\n  position: absolute;\n  top: 23px;\n  right: 26px;\n  width: 32px;\n  height: 32px;\n  padding: 0;\n  z-index: 10;\n\n"]))),j=f.ZP.svg(c||(c=(0,x.Z)(["\n  stroke: #ffffff;\n  fill: transparent;\n  \n"]))),Z=f.ZP.svg(s||(s=(0,x.Z)(["\n  stroke: var(--dark-blue);\n\n  &:hover {\n    border: 1px solid var(--dark-blue);\n    border-radius: 50%;\n  }\n"]))),y=t(1243),k="https://fullstackforce.onrender.com/api/notices/";function w(){return(w=(0,d.Z)((0,l.Z)().mark((function n(e){var t;return(0,l.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,y.Z.get("".concat(k).concat(e));case 2:return t=n.sent,n.abrupt("return",t.data);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var P=function(n){return w.apply(this,arguments)};var C=function(n,e){var t={method:"PATCH",body:JSON.stringify(e),headers:{"Content-Type":"application/json; charset=UTF-8",Authorization:"".concat(y.Z.defaults.headers.common.Authorization)}};fetch("".concat("https://fullstackforce.onrender.com/api/notices/").concat(n,"/favorites"),t).then((function(n){return n.json()})).then((function(n){return console.log(n)})).catch((function(n){return console.log(n)}))},N={method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"".concat(y.Z.defaults.headers.common.Authorization)}};var z,S,E,A,L,T,X,U,_,F,I,M=function(n){fetch("".concat("https://fullstackforce.onrender.com/api/notices/").concat(n,"/favorites"),N).then((function(n){return n.json()})).then((function(n){return console.log(n)})).catch((function(n){return console.log(n)}))},O=t(3439),B=t(1014),R=t(9434),D=t(184),J=function(n){var e=n.showModal,t=n.setShowModal,r=n.idCard,o=(0,u.useState)({}),i=(0,h.Z)(o,2),a=i[0],c=i[1],s=(0,u.useState)({}),x=(0,h.Z)(s,2),f=x[0],y=x[1],k=(0,u.useState)(!1),w=(0,h.Z)(k,2),N=w[0],z=w[1],S=(0,R.v9)(B.Z.loggedInSelector);(0,u.useEffect)((function(){function n(){return(n=(0,d.Z)((0,l.Z)().mark((function n(){var e;return(0,l.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,P(r);case 3:e=n.sent,c((0,p.Z)({},e.notice)),y((0,p.Z)({},e.user)),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})))).apply(this,arguments)}!function(){n.apply(this,arguments)}();var e=localStorage.getItem("pet_".concat(r));null!==e&&z(JSON.parse(e))}),[r]);var E=(0,u.useRef)(),A=(0,u.useCallback)((function(n){"Escape"===n.key&&e&&(t(!1),console.log("I pressed"))}),[t,e]);(0,u.useEffect)((function(){return document.addEventListener("keydown",A),function(){return document.removeEventListener("keydown",A)}}),[A]);var L=a.name,T=a.birthday,X=a.type,U=a.sex,_=a.location,F=a.comments,I=a.avatarURL,J=a.category,H=f.email,G=f.phone;return(0,u.useEffect)((function(){localStorage.setItem("pet_".concat(r),JSON.stringify(N))}),[N,r]),(0,D.jsx)(D.Fragment,{children:e?(0,D.jsx)(g,{onClick:function(n){E.current===n.target&&t(!1)},ref:E,children:(0,D.jsxs)(m,{showModal:e,children:[(0,D.jsxs)(b,{children:[(0,D.jsxs)("div",{className:"modal-info",children:[(0,D.jsxs)("div",{className:"modal-img",children:[(0,D.jsx)("img",{className:"modal-avatar",src:I,alt:L}),(0,D.jsx)("p",{className:"modal-category",children:J})]}),(0,D.jsxs)("div",{children:[(0,D.jsx)("h2",{className:"modal-header",children:"\u0421ute dog looking for a home"}),(0,D.jsxs)("div",{className:"modal-info-list",children:[(0,D.jsxs)("ul",{className:"modal-info-item modal-info-item--name",children:[(0,D.jsx)("li",{children:"Name:"}),(0,D.jsx)("li",{children:"Birthday:"}),(0,D.jsx)("li",{children:"Type:"}),(0,D.jsx)("li",{children:"Place:"}),(0,D.jsx)("li",{children:"The sex:"}),(0,D.jsx)("li",{children:"Email:"}),(0,D.jsx)("li",{children:"Phone:"})]}),(0,D.jsxs)("ul",{className:"modal-info-item",children:[(0,D.jsx)("li",{children:L||" "}),(0,D.jsx)("li",{children:T||" "}),(0,D.jsx)("li",{children:X||" "}),(0,D.jsx)("li",{children:_||" "}),(0,D.jsx)("li",{children:U||" "}),(0,D.jsx)("li",{className:"modal-contact",children:(0,D.jsx)("a",{href:"mailto: ".concat(H),children:H||" "})}),(0,D.jsx)("li",{className:"modal-contact",children:(0,D.jsx)("a",{href:"tel: ".concat(G),children:G||"+380 (XXX) (XXXXXXXX)"})})]})]})]})]}),(0,D.jsxs)("p",{className:"modal-comments",children:[(0,D.jsx)("strong",{children:"Comments:"})," ",F]}),(0,D.jsxs)("div",{className:"modal-buttons",children:[(0,D.jsx)("a",{href:"tel: ".concat(G),className:"modal-button modal-button--primary",type:"button",children:"Contact"}),(0,D.jsxs)("button",{className:"modal-button modal-button--second ".concat(N?"selected":""),type:"button",onClick:function(){S?N?(M(r),z(!N)):(C(r,a),z(!N)):console.log("LogOUT")},children:[(0,D.jsx)("span",{children:"Add to"})," ",(0,D.jsx)("span",{children:(0,D.jsx)(j,{width:24,height:24,children:(0,D.jsx)("use",{href:"".concat(O.Z,"#icon-heart")})})})]})]})]}),(0,D.jsx)(v,{"aria-label":"Close modal",onClick:function(){return t((function(n){return!n}))},children:(0,D.jsx)(Z,{width:24,height:24,children:(0,D.jsx)("use",{href:"".concat(O.Z,"#icon-cross")})})})]})}):null})},H=t(1087),G=f.ZP.div(z||(z=(0,x.Z)(["\n  position: relative;\n"]))),q=f.ZP.div(S||(S=(0,x.Z)(["\n  position: absolute;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: var(--lightblue);\n  padding: 10px 16px;\n  height: 36px;\n  border-top-right-radius: 16px;\n  border-bottom-right-radius: 16px;\n  top: 12px;\n"]))),K=f.ZP.span(E||(E=(0,x.Z)(["\n  font-size: 14px;\n  font-weight: 500;\n"]))),Q=f.ZP.ul(A||(A=(0,x.Z)(["\n  position: absolute;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 12px;\n  padding: 0 8px;\n  bottom: 0;\n"]))),V=f.ZP.li(L||(L=(0,x.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 4px;\n  width: 80px;\n  border-radius: 16px;\n  background-color: var(--lightblue);\n"]))),W=f.ZP.div(T||(T=(0,x.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),Y=f.ZP.svg(X||(X=(0,x.Z)(["\n  fill: var(--lightblue);\n  stroke: var(--dark-blue);\n  /* &:hover,\n  :focus {\n    fill: var(--dark-blue);\n  } */\n"]))),$=f.ZP.div(U||(U=(0,x.Z)(["\n  position: absolute;\n  display: flex;\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  background-color: var(--lightblue);\n  top: 12px;\n  right: 12px;\n"]))),nn=f.ZP.button(_||(_=(0,x.Z)(["\n  cursor: pointer;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: none;\n  width: 100%;\n  border-radius: 50%;\n  background-color: var(--lightblue);\n  padding: 0;\n  &:hover ",", :focus "," {\n    fill: var(--dark-blue);\n  }\n"])),Y,Y),en=(0,f.ZP)(H.rU)(F||(F=(0,x.Z)(["\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  border-radius: 50%;\n  background: var(--dark-blue);\n  border: 2px solid var(--dark-blue);\n  color: var(--container-bg);\n  cursor: pointer;\n  display: inline-flex;\n  width: 80px;\n  height: 80px;\n  padding: 17px 16px;\n  gap: 4px;\n  font-size: 12px;\n  right: 0;\n  bottom: 60px;\n\n  &:hover,\n  &:focus {\n    background: var(--gradient-blue-bg);\n    border: var(--gradient-blue-bg);\n  }\n"]))),tn=f.ZP.svg(I||(I=(0,x.Z)(["\n  stroke: var(--main-light-color);\n"]))),rn=function(n){var e=n.responseByCategory,t=(0,u.useState)(!1),r=(0,h.Z)(t,2),o=r[0],i=r[1],a=(0,u.useState)(""),c=(0,h.Z)(a,2),s=c[0],l=c[1],d=e._id,p=e.title,x=e.birthday,f=e.category,g=e.location,m=e.sex,b=e.avatarURL,v=new Date(x),j=new Date-v,Z=Math.floor(j/315576e5);return(0,D.jsxs)("div",{children:[(0,D.jsxs)(G,{children:[(0,D.jsx)("img",{src:b,alt:"pets avatar",width:280,height:290}),(0,D.jsx)(q,{children:"for-free"!==f?(0,D.jsx)(K,{children:f}):(0,D.jsx)(K,{children:"in goood hands"})}),(0,D.jsxs)(Q,{children:[(0,D.jsxs)(V,{children:[(0,D.jsx)(W,{children:(0,D.jsx)(Y,{width:24,height:24,children:(0,D.jsx)("use",{href:"".concat(O.Z,"#icon-location-1")})})}),g]}),1===Z?(0,D.jsxs)(V,{children:[(0,D.jsx)(W,{children:(0,D.jsx)(Y,{width:24,height:24,children:(0,D.jsx)("use",{href:"".concat(O.Z,"#icon-clock")})})}),"".concat(Z," year")]}):(0,D.jsxs)(V,{children:[(0,D.jsx)(W,{children:(0,D.jsx)(Y,{width:24,height:24,children:(0,D.jsx)("use",{href:"".concat(O.Z,"#icon-clock")})})}),"".concat(Z," years")]}),(0,D.jsxs)(V,{children:[(0,D.jsx)(W,{children:(0,D.jsx)(Y,{width:24,height:24,children:"male"===m?(0,D.jsx)("use",{href:"".concat(O.Z,"#icon-male")}):(0,D.jsx)("use",{href:"".concat(O.Z,"#icon-female")})})}),m]})]}),(0,D.jsx)($,{children:(0,D.jsx)(nn,{type:"button",children:(0,D.jsx)(Y,{width:24,height:24,children:(0,D.jsx)("use",{href:"".concat(O.Z,"#icon-heart")})})})}),(0,D.jsxs)(en,{to:"/add-pet",children:[(0,D.jsx)(tn,{width:24,height:24,children:(0,D.jsx)("use",{href:"".concat(O.Z,"#icon-plus")})}),"Add Pet"]})]}),(0,D.jsx)("h3",{children:p}),(0,D.jsx)("button",{type:"button",onClick:function(){i((function(n){return!n})),l(d)},children:"Learn more"}),(0,D.jsx)(J,{showModal:o,setShowModal:i,idCard:s})]})},on=t(7689);function an(n,e){return cn.apply(this,arguments)}function cn(){return cn=(0,d.Z)((0,l.Z)().mark((function n(e,t){var r,o;return(0,l.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r="https://fullstackforce.onrender.com/api/notices?category=".concat(e),n.next=3,y.Z.get(r,{signal:t.signal});case 3:return o=n.sent,n.abrupt("return",o);case 5:case"end":return n.stop()}}),n)}))),cn.apply(this,arguments)}function sn(n,e){return ln.apply(this,arguments)}function ln(){return ln=(0,d.Z)((0,l.Z)().mark((function n(e,t){var r,o;return(0,l.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r="https://fullstackforce.onrender.com/api/notices/users?category=".concat(e),n.next=3,y.Z.get(r,{signal:t.signal});case 3:return o=n.sent,n.abrupt("return",o);case 5:case"end":return n.stop()}}),n)}))),ln.apply(this,arguments)}var dn=new AbortController,hn={method:"GET",signal:dn.signal,headers:{"Content-Type":"application/json; charset=UTF-8",Authorization:"".concat(y.Z.defaults.headers.common.Authorization)}};var un,pn,xn,fn,gn,mn,bn,vn,jn,Zn=function(){return fetch("".concat("https://fullstackforce.onrender.com/api/notices/favorites"),hn).then((function(n){if(!n.ok)throw new Error(n.status);return n.json()}))},yn=function(){var n=(0,u.useState)([]),e=(0,h.Z)(n,2),t=e[0],r=e[1];console.log("resByCategory:",t);var o=(0,on.UO)().categoryName,i=(0,R.v9)(B.Z.loggedInSelector);return console.log("isLogged:",(0,R.v9)(B.Z.loggedInSelector)),(0,u.useEffect)((function(){if(o){var n=new AbortController;return function(){e.apply(this,arguments)}(),function(){n.abort()}}function e(){return(e=(0,d.Z)((0,l.Z)().mark((function e(){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!i||"own"!==o||"favorite"!==o){e.next=6;break}return e.next=4,sn(o,n);case 4:e.sent.data.map((function(n){var e=n.notices;return r(e)}));case 6:return i&&"favorite"===o&&Zn().then((function(n){n.map((function(n){var e=n.favorites;return r(e)}))})).catch((function(n){return console.log(n)})),e.next=9,an(o,n);case 9:e.sent.data.map((function(n){var e=n.notices;return r(e)})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}}),[o,i]),(0,D.jsx)("div",{children:t&&(0,D.jsx)("ul",{children:t.map((function(n){var e=n._id,t=n.comments,r=n.title,o=n.birthday,i=n.category,a=n.location,c=n.name,s=n.owner,l=n.sex,d=n.type,h=n.avatarURL;return(0,D.jsx)("li",{children:(0,D.jsx)(rn,{responseByCategory:{_id:e,comments:t,title:r,birthday:o,category:i,location:a,name:c,owner:s,sex:l,type:d,avatarURL:h}})},e)}))})})},kn=f.ZP.div(un||(un=(0,x.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n  width: 170px;\n  padding-bottom: 24px;\n"]))),wn=(0,f.ZP)(H.OL)(pn||(pn=(0,x.Z)(["\n  font-size: 14px;\n  padding: 8px 16px;\n  border-radius: 40px;\n  color: var(--dark-blue);\n  background-color: var(--lightblue);\n  &.active {\n    color: var(--bg-color);\n    background-color: var(--dark-blue);\n  }\n"]))),Pn=function(){var n=(0,R.v9)(B.Z.loggedInSelector);return(0,D.jsxs)(kn,{children:[(0,D.jsx)(wn,{to:"/notices/sell",children:"sell"}),(0,D.jsx)(wn,{to:"/notices/lost-found",children:"lost/found"}),(0,D.jsx)(wn,{to:"/notices/for-free",children:"in good hands"}),n&&(0,D.jsx)(wn,{to:"/notices/favorite",children:"favorite ads"}),n&&(0,D.jsx)(wn,{to:"/notices/own",children:"my ads"})]})},Cn=t(963),Nn=f.ZP.div(xn||(xn=(0,x.Z)(["\n  width: 100%;\n"]))),zn=f.ZP.form(fn||(fn=(0,x.Z)(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  padding-top: 24px;\n  padding-bottom: 20px;\n"]))),Sn=f.ZP.input(gn||(gn=(0,x.Z)(["\n  font-size: 14px;\n  border: none;\n  padding-left: 20px;\n  width: 100%;\n  height: 44px;\n  padding-bottom: 4px;\n  border-radius: 24px;\n  box-shadow: 3px 8px 14px 0px rgba(136, 198, 253, 0.2);\n"]))),En=f.ZP.div(mn||(mn=(0,x.Z)(["\n  position: absolute;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 24px;\n  height: 24px;\n  bottom: 31px;\n  right: 16px;\n"]))),An=f.ZP.button(bn||(bn=(0,x.Z)(["\n  border: none;\n  width: 100%;\n  height: 100%;\n  background-color: white;\n"]))),Ln=function(){return(0,D.jsx)(Nn,{children:(0,D.jsxs)(zn,{children:[(0,D.jsx)(Sn,{type:"text",name:"searchforpet",placeholder:"Search"}),(0,D.jsx)(En,{children:(0,D.jsx)(An,{type:"button",children:(0,D.jsx)(Cn.Z,{name:"search",color:"var(--dark-blue)",size:17})})})]})})},Tn=f.ZP.div(vn||(vn=(0,x.Z)(["\n  display: flex;\n  flex-direction: column;\n  padding-top: 40px;\n  align-items: center;\n  width: 100%;\n"]))),Xn=f.ZP.h2(jn||(jn=(0,x.Z)(["\n  display: flex;\n  font-size: 24px;\n  width: 246px;\n  height: 33px;\n  text-align: center;\n"]))),Un=function(){return(0,D.jsxs)(Tn,{children:[(0,D.jsx)(Xn,{children:"Find your favorite pet"}),(0,D.jsx)(Ln,{}),(0,D.jsx)(Pn,{}),(0,D.jsx)(yn,{})]})}},963:function(n,e,t){var r=t(3439),o=t(184);e.Z=function(n){var e=n.name,t=n.color,i=n.size;return(0,o.jsx)("svg",{className:"icon icon-".concat(e),fill:t,stroke:t,width:i,height:i,children:(0,o.jsx)("use",{xlinkHref:"".concat(r.Z,"#icon-").concat(e)})})}}}]);
//# sourceMappingURL=757.02366d80.chunk.js.map