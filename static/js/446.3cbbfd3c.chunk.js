"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[446],{3439:function(e,n,t){t(2791);n.Z=t.p+"static/media/icons.29896e80873140f97ab240538dc1b43d.svg"},9446:function(e,n,t){t.r(n),t.d(n,{default:function(){return O}});var r,i,o,a,s,c,d,l,u,h,p=t(4165),x=t(5861),f=t(9439),g=t(2791),v=t(1087),w="https://fullstackforce.onrender.com/api/news",m=function(){var e=(0,x.Z)((0,p.Z)().mark((function e(){var n,t,r,i=arguments;return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>0&&void 0!==i[0]?i[0]:"",t=i.length>1&&void 0!==i[1]?i[1]:1,e.prev=2,e.next=5,fetch("".concat(w,"?title=").concat(n,"&page=").concat(t));case 5:if(!(r=e.sent).ok){e.next=10;break}return e.next=9,r.json();case 9:return e.abrupt("return",e.sent);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),new Error("Oopps...no movies with this name - ".concat(n));case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}}(),j=t(168),Z=t(6444),b=Z.ZP.div(r||(r=(0,j.Z)(["\n  width: 400px;\n"]))),k=Z.ZP.a(i||(i=(0,j.Z)(["\n  width: 100px;\n  padding: 3px 7px;\n  cursor: pointer;\n  color: var(--dark-blue);\n  border-radius: 40px;\n\n  &:hover {\n    background-color: var(--lightblue);\n  }\n"]))),y=t(184),P=function(e){var n=new Date(e),t=n.getDate(),r=n.getMonth()+1;return(t<10?"0":"")+t+"/"+(r<10?"0":"")+r+"/"+n.getFullYear()},C=function(e){var n=e.responseByNews,t=n.title,r=n.url,i=n.imgUrl,o=n.text,a=n.date;return(0,y.jsxs)(b,{children:[i&&(0,y.jsx)("img",{src:i,alt:t}),(0,y.jsxs)("h3",{children:[t," "]}),(0,y.jsx)("p",{children:o}),(0,y.jsx)("div",{children:P(a)}),(0,y.jsx)(k,{href:r,target:"_blank",rel:"noopener noreferrer",children:"Read more"})]})},S=function(e){var n=e.news;return(0,y.jsx)("div",{children:n&&n.length&&(0,y.jsx)("ul",{children:n.map((function(e){var n=e._id,t=e.title,r=e.url,i=e.imgUrl,o=e.text,a=e.date;return(0,y.jsx)("li",{children:(0,y.jsx)(C,{responseByNews:{title:t,url:r,imgUrl:i,text:o,date:a}})},n)}))})})},_=Z.ZP.div(o||(o=(0,j.Z)(["\n  width: 100%;\n"]))),D=Z.ZP.form(a||(a=(0,j.Z)(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  padding-top: 24px;\n  padding-bottom: 20px;\n"]))),z=Z.ZP.input(s||(s=(0,j.Z)(["\n  font-size: 14px;\n  border: none;\n  padding-left: 20px;\n  width: 100%;\n  height: 44px;\n  padding-bottom: 4px;\n  border-radius: 24px;\n  box-shadow: 3px 8px 14px 0px rgba(136, 198, 253, 0.2);\n"]))),N=Z.ZP.div(c||(c=(0,j.Z)(["\n  position: absolute;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 24px;\n  height: 24px;\n  bottom: 31px;\n  right: 16px;\n"]))),U=Z.ZP.button(d||(d=(0,j.Z)(["\n  border: none;\n  width: 100%;\n  height: 100%;\n  background-color: white;\n"]))),q=Z.ZP.svg(l||(l=(0,j.Z)(["\n  fill: var(--dark-blue);\n"]))),B=Z.ZP.svg(u||(u=(0,j.Z)(["\n  stroke: var(--accent-color);\n"]))),E=t(3439),F=function(e){var n=e.pattern,t=e.onSubmit,r=e.onClear,i=(0,g.useState)(null!==n&&void 0!==n?n:""),o=(0,f.Z)(i,2),a=o[0],s=o[1];return(0,y.jsx)(_,{children:(0,y.jsxs)(D,{onSubmit:function(e){e.preventDefault(),""!==a.trim()?(t(a),s("")):alert("Type something in search input")},children:[(0,y.jsx)(z,{type:"text",name:"searchfornews",placeholder:"Search",value:a,onChange:function(e){s(e.currentTarget.value.toLowerCase())},autoComplete:"off",autoFocus:!0}),(0,y.jsxs)(N,{children:[(0,y.jsx)(U,{type:"submit",children:(0,y.jsx)(q,{width:24,height:24,children:(0,y.jsx)("use",{href:"".concat(E.Z,"#icon-search")})})}),""!==a.trim()&&(0,y.jsx)("button",{type:"button",onClick:function(){s(""),r()},children:(0,y.jsx)(B,{width:24,height:24,children:(0,y.jsx)("use",{href:"".concat(E.Z,"#icon-cross-small")})})})]})]})})},L=Z.ZP.h2(h||(h=(0,j.Z)(["\n  padding-top: 80px;\n  font-size: 24px;\n  font-weight: 700;\n  text-align: center;\n  @media screen and (min-width: 768px) {\n    padding-top: 60px;\n    font-size: 32px;\n    font-weight: 600;\n    line-height: 1.3;\n  }\n  @media screen and (min-width: 1280px) {\n  }\n"]))),O=function(){var e=(0,v.lr)(),n=(0,f.Z)(e,2),t=n[0],r=n[1],i=t.get("query"),o=(0,g.useState)([]),a=(0,f.Z)(o,2),s=a[0],c=a[1],d=(0,g.useState)(null),l=(0,f.Z)(d,2),u=l[0],h=l[1],w=(0,g.useState)("idle"),j=(0,f.Z)(w,2),Z=j[0],b=j[1],k=(0,g.useCallback)((0,x.Z)((0,p.Z)().mark((function e(){var n,t,r;return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b("pending"),e.prev=1,n=i&&i.length>0?i:"",e.next=5,m(n);case 5:0===(t=e.sent).length?b("rejected"):((r=t[0].news).length&&c(r.sort((function(e,n){return new Date(n.date)-new Date(e.date)}))),b("resolved")),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),h(e.t0),b("rejected");case 13:case"end":return e.stop()}}),e,null,[[1,9]])}))),[i]);(0,g.useEffect)((function(){k()}),[k]);return(0,y.jsxs)("div",{children:[(0,y.jsx)(L,{children:"News"}),(0,y.jsx)(F,{pattern:i,onSubmit:function(e){r(""!==e?{query:e}:{})},onClear:function(){r({})}}),"idle"===Z&&(0,y.jsx)("div",{children:"Please, type something to the search"}),"pending"===Z&&(0,y.jsx)("div",{children:"Loading...."}),"rejected"===Z&&(0,y.jsxs)("div",{children:["Oopps...no news with this text.",!u&&(0,y.jsx)("div",{children:u})]}),"resolved"===Z&&(0,y.jsx)(S,{news:s})]})}}}]);
//# sourceMappingURL=446.3cbbfd3c.chunk.js.map