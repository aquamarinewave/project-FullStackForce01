"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[167],{3439:function(n,e,t){t(2791);e.Z=t.p+"static/media/icons.29896e80873140f97ab240538dc1b43d.svg"},7167:function(n,e,t){t.r(e),t.d(e,{default:function(){return Xn}});var r,o,i,a,s,c,l=t(4165),d=t(5861),h=t(9439),u=t(2791),p=t(1413),x=t(168),f=t(6444),g=f.ZP.div(r||(r=(0,x.Z)(["\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(97, 97, 97, 0.60);\n  backdrop-filter: blur(4px); \n  position: fixed;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 9999;\n"]))),m=f.ZP.div(o||(o=(0,x.Z)(["\n  width: 681px;\n  height: 540px;\n  background: #fff;\n  color: #000;\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  position: relative;\n  border-radius: 40px;\n"]))),b=f.ZP.div(i||(i=(0,x.Z)(["\n  padding: 32px;\n  width: 681px;\n\n  .modal-header {\n    color: #000;\n    font-size: 28px;\n    font-style: normal;\n    font-weight: 700;\n    line-height: normal;\n    letter-spacing: -0.28px; \n    margin-bottom: 20px; \n  }\n\n  .modal-info {\n    display: flex;\n    gap: 24px;\n    margin-bottom: 28px; \n  }\n\n  .modal-info-list {\n    display: flex;\n    gap: 51px;\n  }\n\n  .modal-info-item {\n    display: flex;\n    flex-direction: column;\n    gap: 8px;\n  }\n\n  .modal-info-item--name {\n    font-weight: 600; \n  }\n\n  .modal-contact {\n    color: var(--accent-color);\n    font-weight: 500;\n    \n    a {\n      border-bottom: 1px solid var(--accent-color); \n    }\n  } \n  \n  .modal-img {\n    position: relative;\n    width: 262px;\n    height: 298px;\n  }\n\n  .modal-avatar {\n    width: 262px;\n    height: 298px;\n    border-radius: 0px 0px 40px 40px;\n  }\n\n  .modal-category {\n    position: absolute;\n    top: 16px;\n    left: 0;\n    width: 126px;\n    height: 32px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background-color: var(--lightblue);\n    color: #111;\n    font-size: 14px;\n    font-style: normal;\n    font-weight: 500;\n    line-height: normal;\n    border-bottom-right-radius: 50px;\n    border-top-right-radius: 50px;  \n  }\n\n  .modal-comments {\n    color: var(--main-color);\n    font-weight: 500;\n    line-height: 24px;\n    letter-spacing: 0.64px;\n    margin-bottom: 70px  \n  }\n\n  .modal-buttons {\n    display: flex;\n    flex-direction: row-reverse;\n    gap: 17px;\n  }\n  \n  .modal-button {\n    display: flex;\n    gap: 6px;\n    width: 129px;\n    padding: 8px 20px;\n    justify-content: center;\n    align-items: center;\n    background: transparent;\n    border-radius: 40px; \n    font-size: 16px;\n    font-family: inherit;\n    font-weight: 700;  \n    line-height: normal;\n    letter-spacing: 0.64px; \n  }\n\n  .modal-button--primary {\n    border: 2px solid var(--dark-blue);\n    color: var(--dark-blue);\n  }\n\n  .modal-button--primary:hover {\n    background: var(--dark-blue, linear-gradient(315deg, #419EF1 0%, #9BD0FF 100%)); \n    color: #fff;\n  }\n\n  .modal-button--second {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background: var(--dark-blue);\n    border: none;\n    color: #fff;\n  }\n\n  .modal-button--second:hover {\n    background: var(--lightblue);\n    color: var(--dark-blue);\n\n    svg {\n      stroke: var(--dark-blue);\n    }\n  }\n\n  span {\n    display: flex;\n  }\n\n"]))),v=f.ZP.button(a||(a=(0,x.Z)(["\n  border: transparent;\n  background: transparent;\n  position: absolute;\n  top: 23px;\n  right: 26px;\n  width: 32px;\n  height: 32px;\n  padding: 0;\n  z-index: 10;\n\n"]))),j=f.ZP.svg(s||(s=(0,x.Z)(["\n  stroke: #ffffff;\n  fill: transparent;\n  \n  &:hover {\n    stroke: var(--dark-blue);\n  }\n"]))),Z=f.ZP.svg(c||(c=(0,x.Z)(["\n  stroke: var(--dark-blue);\n\n  &:hover {\n    border: 1px solid var(--dark-blue);\n    border-radius: 50%;\n  }\n"])));var y=function(n){return fetch("".concat("https://fullstackforce.onrender.com/api/notices/").concat(n)).then((function(n){if(!n.ok)throw new Error(n.status);return n.json()}))},k=t(1243);var w,P,C,z,S,E,X,L,T,U,A,F=function(n,e){var t={method:"PATCH",body:JSON.stringify(e),headers:{"Content-Type":"application/json; charset=UTF-8",Authorization:"".concat(k.Z.defaults.headers.common.Authorization)}};fetch("".concat("https://fullstackforce.onrender.com/api/notices/").concat(n,"/favorites"),t).then((function(n){return n.json()})).then((function(n){return console.log(n)})).catch((function(n){return console.log(n)}))},_=t(3439),M=t(1014),B=t(9434),I=t(184),R=function(n){var e=n.showModal,t=n.setShowModal,r=n.idCard,o=(0,u.useState)({}),i=(0,h.Z)(o,2),a=i[0],s=i[1],c=(0,u.useState)({}),l=(0,h.Z)(c,2),d=l[0],x=l[1],f=(0,B.v9)(M.Z.loggedInSelector);(0,u.useEffect)((function(){y(r).then((function(n){return[s((0,p.Z)({},n.notice)),x((0,p.Z)({},n.user))]})).catch((function(n){return console.log(n)}))}),[r]);var k=(0,u.useRef)(),w=(0,u.useCallback)((function(n){"Escape"===n.key&&e&&(t(!1),console.log("I pressed"))}),[t,e]);(0,u.useEffect)((function(){return document.addEventListener("keydown",w),function(){return document.removeEventListener("keydown",w)}}),[w]);var P=a.name,C=a.birthday,z=a.type,S=a.sex,E=a.location,X=a.comments,L=a.avatarURL,T=a.category,U=d.email,A=d.phone;return(0,I.jsx)(I.Fragment,{children:e?(0,I.jsx)(g,{onClick:function(n){k.current===n.target&&t(!1)},ref:k,children:(0,I.jsxs)(m,{showModal:e,children:[(0,I.jsxs)(b,{children:[(0,I.jsxs)("div",{class:"modal-info",children:[(0,I.jsxs)("div",{class:"modal-img",children:[(0,I.jsx)("img",{class:"modal-avatar",src:L,alt:P}),(0,I.jsx)("p",{class:"modal-category",children:T})]}),(0,I.jsxs)("div",{children:[(0,I.jsx)("h2",{class:"modal-header",children:"\u0421ute dog looking for a home"}),(0,I.jsxs)("div",{class:"modal-info-list",children:[(0,I.jsxs)("ul",{class:"modal-info-item modal-info-item--name",children:[(0,I.jsx)("li",{children:"Name:"}),(0,I.jsx)("li",{children:"Birthday:"}),(0,I.jsx)("li",{children:"Type:"}),(0,I.jsx)("li",{children:"Place:"}),(0,I.jsx)("li",{children:"The sex:"}),(0,I.jsx)("li",{children:"Email:"}),(0,I.jsx)("li",{children:"Phone:"})]}),(0,I.jsxs)("ul",{class:"modal-info-item",children:[(0,I.jsx)("li",{children:P||" "}),(0,I.jsx)("li",{children:C||" "}),(0,I.jsx)("li",{children:z||" "}),(0,I.jsx)("li",{children:E||" "}),(0,I.jsx)("li",{children:S||" "}),(0,I.jsx)("li",{class:"modal-contact",children:(0,I.jsx)("a",{href:"mailto: ".concat(U),children:U||" "})}),(0,I.jsx)("li",{class:"modal-contact",children:(0,I.jsx)("a",{href:"tel: ".concat(A),children:A||"+380 (XXX) (XXXXXXXX)"})})]})]})]})]}),(0,I.jsxs)("p",{class:"modal-comments",children:[(0,I.jsx)("strong",{children:"Comments:"})," ",X]}),(0,I.jsxs)("div",{class:"modal-buttons",children:[(0,I.jsx)("a",{href:"tel: ".concat(A),class:"modal-button modal-button--primary",type:"button",children:"Contact"}),(0,I.jsxs)("button",{class:"modal-button modal-button--second",type:"button",onClick:function(){f?(console.log(),F(r,a)):console.log("LogOUT")},children:[(0,I.jsx)("span",{children:"Add to"})," ",(0,I.jsx)("span",{children:(0,I.jsx)(j,{width:24,height:24,children:(0,I.jsx)("use",{href:"".concat(_.Z,"#icon-heart")})})})]})]})]}),(0,I.jsx)(v,{"aria-label":"Close modal",onClick:function(){return t((function(n){return!n}))},children:(0,I.jsx)(Z,{width:24,height:24,children:(0,I.jsx)("use",{href:"".concat(_.Z,"#icon-cross")})})})]})}):null})},N=t(1087),O=f.ZP.div(w||(w=(0,x.Z)(["\n  position: relative;\n"]))),D=f.ZP.div(P||(P=(0,x.Z)(["\n  position: absolute;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: var(--lightblue);\n  padding: 10px 16px;\n  height: 36px;\n  border-top-right-radius: 16px;\n  border-bottom-right-radius: 16px;\n  top: 12px;\n"]))),H=f.ZP.span(C||(C=(0,x.Z)(["\n  font-size: 14px;\n  font-weight: 500;\n"]))),G=f.ZP.ul(z||(z=(0,x.Z)(["\n  position: absolute;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 12px;\n  padding: 0 8px;\n  bottom: 0;\n"]))),J=f.ZP.li(S||(S=(0,x.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 4px;\n  width: 80px;\n  border-radius: 16px;\n  background-color: var(--lightblue);\n"]))),q=f.ZP.div(E||(E=(0,x.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),K=f.ZP.svg(X||(X=(0,x.Z)(["\n  fill: var(--lightblue);\n  stroke: var(--dark-blue);\n  /* &:hover,\n  :focus {\n    fill: var(--dark-blue);\n  } */\n"]))),Q=f.ZP.div(L||(L=(0,x.Z)(["\n  position: absolute;\n  display: flex;\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  background-color: var(--lightblue);\n  top: 12px;\n  right: 12px;\n"]))),V=f.ZP.button(T||(T=(0,x.Z)(["\n  cursor: pointer;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: none;\n  width: 100%;\n  border-radius: 50%;\n  background-color: var(--lightblue);\n  padding: 0;\n  &:hover ",", :focus "," {\n    fill: var(--dark-blue);\n  }\n"])),K,K),W=(0,f.ZP)(N.rU)(U||(U=(0,x.Z)(["\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  border-radius: 50%;\n  background: var(--dark-blue);\n  border: 2px solid var(--dark-blue);\n  color: var(--container-bg);\n  cursor: pointer;\n  display: inline-flex;\n  width: 80px;\n  height: 80px;\n  padding: 17px 16px;\n  gap: 4px;\n  font-size: 12px;\n  right: 0;\n  bottom: 60px;\n\n  &:hover,\n  &:focus {\n    background: var(--gradient-blue-bg);\n    border: var(--gradient-blue-bg);\n  }\n"]))),Y=f.ZP.svg(A||(A=(0,x.Z)(["\n  stroke: var(--main-light-color);\n"]))),$=function(n){var e=n.responseByCategory,t=(0,u.useState)(!1),r=(0,h.Z)(t,2),o=r[0],i=r[1],a=(0,u.useState)(""),s=(0,h.Z)(a,2),c=s[0],l=s[1],d=e._id,p=e.title,x=e.birthday,f=e.category,g=e.location,m=e.sex,b=e.avatarURL,v=new Date(x),j=new Date-v,Z=Math.floor(j/315576e5);return(0,I.jsxs)("div",{children:[(0,I.jsxs)(O,{children:[(0,I.jsx)("img",{src:b,alt:"pets avatar",width:280,height:290}),(0,I.jsx)(D,{children:"for-free"!==f?(0,I.jsx)(H,{children:f}):(0,I.jsx)(H,{children:"in goood hands"})}),(0,I.jsxs)(G,{children:[(0,I.jsxs)(J,{children:[(0,I.jsx)(q,{children:(0,I.jsx)(K,{width:24,height:24,children:(0,I.jsx)("use",{href:"".concat(_.Z,"#icon-location-1")})})}),g]}),1===Z?(0,I.jsxs)(J,{children:[(0,I.jsx)(q,{children:(0,I.jsx)(K,{width:24,height:24,children:(0,I.jsx)("use",{href:"".concat(_.Z,"#icon-clock")})})}),"".concat(Z," year")]}):(0,I.jsxs)(J,{children:[(0,I.jsx)(q,{children:(0,I.jsx)(K,{width:24,height:24,children:(0,I.jsx)("use",{href:"".concat(_.Z,"#icon-clock")})})}),"".concat(Z," years")]}),(0,I.jsxs)(J,{children:[(0,I.jsx)(q,{children:(0,I.jsx)(K,{width:24,height:24,children:"male"===m?(0,I.jsx)("use",{href:"".concat(_.Z,"#icon-male")}):(0,I.jsx)("use",{href:"".concat(_.Z,"#icon-female")})})}),m]})]}),(0,I.jsx)(Q,{children:(0,I.jsx)(V,{type:"button",children:(0,I.jsx)(K,{width:24,height:24,children:(0,I.jsx)("use",{href:"".concat(_.Z,"#icon-heart")})})})}),(0,I.jsxs)(W,{to:"/add-pet",children:[(0,I.jsx)(Y,{width:24,height:24,children:(0,I.jsx)("use",{href:"".concat(_.Z,"#icon-plus")})}),"Add Pet"]})]}),(0,I.jsx)("h3",{children:p}),(0,I.jsx)("button",{type:"button",onClick:function(){i((function(n){return!n})),l(d)},children:"Learn more"}),(0,I.jsx)(R,{showModal:o,setShowModal:i,idCard:c})]})},nn=t(7689);function en(n,e){return tn.apply(this,arguments)}function tn(){return(tn=(0,d.Z)((0,l.Z)().mark((function n(e,t){var r,o;return(0,l.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r="https://fullstackforce.onrender.com/api/notices?category=".concat(e),n.next=3,k.Z.get(r,{signal:t.signal});case 3:return o=n.sent,n.abrupt("return",o);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function rn(n,e){return on.apply(this,arguments)}function on(){return(on=(0,d.Z)((0,l.Z)().mark((function n(e,t){var r,o;return(0,l.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r="https://fullstackforce.onrender.com/api/notices/users?category=".concat(e),n.next=3,k.Z.get(r,{signal:t.signal});case 3:return o=n.sent,n.abrupt("return",o);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var an={method:"GET",headers:{"Content-Type":"application/json; charset=UTF-8",Authorization:"".concat(k.Z.defaults.headers.common.Authorization)}};var sn,cn,ln,dn,hn,un,pn,xn,fn,gn=function(){return fetch("".concat("https://fullstackforce.onrender.com/api/notices/favorites"),an).then((function(n){if(!n.ok)throw new Error(n.status);return n.json()}))},mn=function(){var n=(0,u.useState)([]),e=(0,h.Z)(n,2),t=e[0],r=e[1];console.log("resByCategory:",t);var o=(0,nn.UO)().categoryName,i=(0,B.v9)(M.Z.loggedInSelector);return console.log("isLogged:",(0,B.v9)(M.Z.loggedInSelector)),console.log(o),(0,u.useEffect)((function(){if(o){var n=new AbortController;return function(){e.apply(this,arguments)}(),function(){n.abort()}}function e(){return(e=(0,d.Z)((0,l.Z)().mark((function e(){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!i||"own"!==o||"favorite"!==o){e.next=6;break}return e.next=4,rn(o,n);case 4:e.sent.data.map((function(n){var e=n.notices;return r(e)}));case 6:return i&&"favorite"===o&&gn().then((function(n){n.map((function(n){var e=n.favorites;return r(e)}))})).catch((function(n){return console.log(n)})),e.next=9,en(o,n);case 9:e.sent.data.map((function(n){var e=n.notices;return r(e)})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}}),[o,i]),(0,I.jsx)("div",{children:t&&(0,I.jsx)("ul",{children:t.map((function(n){var e=n._id,t=n.comments,r=n.title,o=n.birthday,i=n.category,a=n.location,s=n.name,c=n.owner,l=n.sex,d=n.type,h=n.avatarURL;return(0,I.jsx)("li",{children:(0,I.jsx)($,{responseByCategory:{_id:e,comments:t,title:r,birthday:o,category:i,location:a,name:s,owner:c,sex:l,type:d,avatarURL:h}})},e)}))})})},bn=f.ZP.div(sn||(sn=(0,x.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n  width: 170px;\n  padding-bottom: 24px;\n"]))),vn=(0,f.ZP)(N.OL)(cn||(cn=(0,x.Z)(["\n  font-size: 14px;\n  padding: 8px 16px;\n  border-radius: 40px;\n  color: var(--dark-blue);\n  background-color: var(--lightblue);\n  &.active {\n    color: var(--bg-color);\n    background-color: var(--dark-blue);\n  }\n"]))),jn=function(){var n=(0,B.v9)(M.Z.loggedInSelector);return(0,I.jsxs)(bn,{children:[(0,I.jsx)(vn,{to:"/notices/sell",children:"sell"}),(0,I.jsx)(vn,{to:"/notices/lost-found",children:"lost/found"}),(0,I.jsx)(vn,{to:"/notices/for-free",children:"in good hands"}),n&&(0,I.jsx)(vn,{to:"/notices/favorite",children:"favorite ads"}),n&&(0,I.jsx)(vn,{to:"/notices/own",children:"my ads"})]})},Zn=t(963),yn=f.ZP.div(ln||(ln=(0,x.Z)(["\n  width: 100%;\n"]))),kn=f.ZP.form(dn||(dn=(0,x.Z)(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  padding-top: 24px;\n  padding-bottom: 20px;\n"]))),wn=f.ZP.input(hn||(hn=(0,x.Z)(["\n  font-size: 14px;\n  border: none;\n  padding-left: 20px;\n  width: 100%;\n  height: 44px;\n  padding-bottom: 4px;\n  border-radius: 24px;\n  box-shadow: 3px 8px 14px 0px rgba(136, 198, 253, 0.2);\n"]))),Pn=f.ZP.div(un||(un=(0,x.Z)(["\n  position: absolute;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 24px;\n  height: 24px;\n  bottom: 31px;\n  right: 16px;\n"]))),Cn=f.ZP.button(pn||(pn=(0,x.Z)(["\n  border: none;\n  width: 100%;\n  height: 100%;\n  background-color: white;\n"]))),zn=function(){return(0,I.jsx)(yn,{children:(0,I.jsxs)(kn,{children:[(0,I.jsx)(wn,{type:"text",name:"searchforpet",placeholder:"Search"}),(0,I.jsx)(Pn,{children:(0,I.jsx)(Cn,{type:"button",children:(0,I.jsx)(Zn.Z,{name:"search",color:"var(--dark-blue)",size:17})})})]})})},Sn=f.ZP.div(xn||(xn=(0,x.Z)(["\n  display: flex;\n  flex-direction: column;\n  padding-top: 40px;\n  align-items: center;\n  width: 100%;\n"]))),En=f.ZP.h2(fn||(fn=(0,x.Z)(["\n  display: flex;\n  font-size: 24px;\n  width: 246px;\n  height: 33px;\n  text-align: center;\n"]))),Xn=function(){return(0,I.jsxs)(Sn,{children:[(0,I.jsx)(En,{children:"Find your favorite pet"}),(0,I.jsx)(zn,{}),(0,I.jsx)(jn,{}),(0,I.jsx)(mn,{})]})}},963:function(n,e,t){var r=t(3439),o=t(184);e.Z=function(n){var e=n.name,t=n.color,i=n.size;return(0,o.jsx)("svg",{className:"icon icon-".concat(e),fill:t,stroke:t,width:i,height:i,children:(0,o.jsx)("use",{xlinkHref:"".concat(r.Z,"#icon-").concat(e)})})}}}]);
//# sourceMappingURL=167.9b1117dc.chunk.js.map